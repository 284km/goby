c = Channel.new

500001.times do |i| # i start from 0 to 1000
  thread do
    c.deliver(i)
  end
end

r = 0
500001.times do
  r = r + c.receive
end

c.close

puts(r)